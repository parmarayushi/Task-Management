<div class="wrapper h-100 overflow-hidden d-flex flex-column">
    <!-- Header -->
    <h3 class="border-bottom border-primary pb-2">{{formTitle}}</h3>

    <!-- Start: Task Form -->
    <form class="rounded shadow-sm bg-white p-3 mt-3 mt-sm-4 overflow-auto" [formGroup]="taskForm">
        <div class="d-sm-flex">
            <section class="col-12 col-sm-6 pe-sm-3 border-end border-sm-end">
                <!-- Start: Project Name Field -->
                <div class="pb-3">
                    <label for="projectName" class="fw-bold">Project Name</label>
                    <select id="projectName" class="form-select" formControlName="projectName">
                        <option *ngFor="let projects of projectData" value="{{projects.name}}">
                            {{projects.name}}
                        </option>
                    </select>

                    <!-- Start: Project Name Field Validation -->
                    <div
                        *ngIf="getControls['projectName'].touched && getControls['projectName'].errors || formSubmitted">
                        <small class="text-danger"
                            *ngIf="getControls['projectName'].errors && getControls['projectName'].errors['required']">
                            *projectName is required.
                        </small>
                    </div>
                    <!-- End: Project Name Field Validation -->
                </div>
                <!-- End: Project Name Field -->

                <!-- Start: Task Field -->
                <div class="pb-3">
                    <label for="task" class="fw-bold">Task</label>
                    <input type="text" class="form-control" formControlName="task">

                    <!-- Start: Task Field Validation -->
                    <div *ngIf="getControls['task'].touched && getControls['task'].errors || formSubmitted">
                        <small class="text-danger"
                            *ngIf="getControls['task'].errors && getControls['task'].errors['required']">
                            *task is required.
                        </small>
                    </div>
                    <!-- End: Task Field Validation -->
                </div>
                <!-- End: Task Field -->

                <!-- Start: Assign To Field -->
                <div class="pb-3">
                    <label for="assignTo" class="fw-bold">Assign To</label>
                    <select id="assignTo" class="form-select" formControlName="assignTo">
                        <option *ngFor="let members of memberData" value="{{members.firstName +' '+ members.lastName}}">
                            {{members.firstName +" "+ members.lastName}}
                        </option>
                    </select>

                    <!-- Start: Assign To Field Validation -->
                    <div *ngIf="getControls['assignTo'].touched && getControls['assignTo'].errors || formSubmitted">
                        <small class="text-danger"
                            *ngIf="getControls['assignTo'].errors && getControls['assignTo'].errors['required']">
                            *assignTo is required.
                        </small>
                    </div>
                    <!-- End: Assign To Field Validation -->
                </div>
                <!-- End: Assign To Field -->
            </section>

            <section class="col-12 col-sm-6 ps-sm-3">
                <!-- Start: DueDate Field -->
                <div class="pb-3">
                    <label for="dueDate" class="fw-bold">Due Date</label>
                    <input type="date" class="form-control" formControlName="dueDate">

                    <!-- Start: DueDate Field Valiadtion -->
                    <div *ngIf="getControls['dueDate'].touched && getControls['dueDate'].errors || formSubmitted">
                        <small class="text-danger"
                            *ngIf="getControls['dueDate'].errors && getControls['dueDate'].errors['required']">
                            *dueDate is required.
                        </small>
                    </div>
                    <!-- End: DueDate Field Valiadtion -->
                </div>
                <!-- End: DueDate Field -->

                <!-- Start: Priority Field -->
                <div class="pb-3">
                    <label for="priority" class="fw-bold">Priority</label>
                    <select id="priority" class="form-select" formControlName="priority">
                        <option>Low</option>
                        <option>Medium</option>
                        <option>High</option>
                    </select>

                    <!-- Start: Priority Field Validation -->
                    <div *ngIf="getControls['priority'].touched && getControls['priority'].errors || formSubmitted">
                        <small class="text-danger"
                            *ngIf="getControls['priority'].errors && getControls['priority'].errors['required']">
                            *priority is required.
                        </small>
                    </div>
                    <!-- End: Priority Field Validation -->
                </div>
                <!-- End: Priority Field -->

                <!-- Start: Status Field -->
                <div class="pb-3">
                    <label for="status" class="fw-bold">Status</label>
                    <select id="status" class="form-select" formControlName="status">
                        <option>Pending</option>
                        <option>In Progress</option>
                        <option>Done</option>
                    </select>

                    <!-- Start: Status Field Validation -->
                    <div *ngIf="getControls['status'].touched && getControls['status'].errors || formSubmitted">
                        <small class="text-danger"
                            *ngIf="getControls['status'].errors && getControls['status'].errors['required']">
                            *status is required.
                        </small>
                    </div>
                    <!-- End: Status Field Validation -->
                </div>
                <!-- End:  Status Field -->

                <!-- Start: Description Field -->
                <div>
                    <label for="description" class="fw-bold">Description</label>
                    <textarea class="form-control" formControlName="description"></textarea>

                    <!-- Start: Descsription Field Valiadtion -->
                    <div
                        *ngIf="getControls['description'].touched && getControls['description'].errors || formSubmitted">
                        <small class="text-danger"
                            *ngIf="getControls['description'].errors && getControls['description'].errors['required']">
                            *description is required.
                        </small>
                    </div>
                    <!-- End: Descsription Field Valiadtion -->
                </div>
                <!-- End: Description Field -->
            </section>
        </div>

        <!-- Start: Submit and Cancel Button -->
        <div class="d-flex align-items-center justify-content-between justify-content-sm-center mt-3">
            <button type="button" class="btn btn-primary me-2 ps-4 pe-4 text-white" (click)="onSubmit()">Save</button>
            <button type="button" class="btn btn-secondary" (click)="onCancel()">Cancel</button>
        </div>
        <!-- End: Submit and Cancel Button -->
    </form>
    <!-- End: Task Form -->
</div>